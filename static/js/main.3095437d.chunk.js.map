{"version":3,"sources":["redux/dialogsReducer.js","components/Users/Users.module.css","components/Profile/MyPosts/Post/Post.module.css","components/Nav/Nav.module.css","redux/authSelectors.js","components/Common/FormsControls/FormsControls.js","API/api.js","redux/profileReducer.js","redux/sideBarReducer.js","utils/object-helpers.js","redux/usersReducer.js","redux/auth-reducer.js","redux/appReducer.js","redux/reduxStore.js","components/Header/Header.jsx","components/Header/HeaderContainer.jsx","components/Nav/Nav.jsx","components/Settings/Settings.jsx","components/News/News.jsx","components/Music/Music.jsx","components/Common/Paginator/Paginator.jsx","assets/images/userDefaultPhoto.png","components/Users/User.jsx","components/Users/Users.jsx","assets/images/preloader.svg","components/Common/Preloader/Preloader.jsx","redux/usersSelectors.js","components/Users/UsersContainer.jsx","components/Login/Login.jsx","components/Profile/MyPosts/Post/Post.jsx","components/Profile/MyPosts/MyPosts.jsx","redux/profileSelectors.js","components/Profile/MyPosts/MyPostsContainer.jsx","components/Profile/ProfileInfo/ProfileStatusWithHooks.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx","App.js","hoc/withSuspense.jsx","index.js","utils/validators/validators.js","components/Common/FormsControls/FormsControls.module.css","components/Common/Paginator/Paginator.module.css","components/Profile/MyPosts/MyPosts.module.css","hoc/withAuthRedirect.jsx","components/Profile/ProfileInfo/ProfileInfo.module.css","components/Header/Header.module.css"],"names":["SEND_MESSAGE","initialState","messages","id","message","dialogs","name","userAvatar","sendMessage","newMessageBody","type","dialogsReducer","state","action","newMessage","module","exports","getUserId","auth","userId","getIsAuth","isAuth","getLogin","login","FormControl","input","meta","touched","error","children","hasError","className","styles","formControl","Textarea","props","restProps","Input","CreateField","placeholder","component","validate","text","instance","axios","withCredentials","baseURL","headers","usersAPI","getUsers","currentPage","pageSize","get","follow","post","unFollow","delete","profileAPI","status","put","authAPI","email","password","rememberMe","ADD_POST","DELETE_POST","SET_USER_PROFILE","SET_STATUS","posts","likesCount","profile","setStatus","profileReducer","newPost","newPostText","filter","p","postId","sideBarReducer","updateObjectInArray","items","itemId","objPropName","newObjProps","map","u","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","users","totalUsersCount","isFetching","followingInProgress","followSuccess","unFollowSuccess","setCurrentPage","toggleIsFetching","toggleFollowingProgress","followUnfollowFlow","dispatch","apiMethod","actionCreator","a","data","resultCode","usersReducer","followed","count","SET_USER_DATA","SET_USER_PHOTO","photo","setAuthUserData","payload","getAuthUserData","response","authReducer","INITIALIZED_SUCCESS","initialized","appReducer","reducers","combineReducers","profilePage","dialogsPage","sideBar","usersPage","app","form","formReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","__store__","Header","s","header","src","loginBlock","onClick","logout","to","HeaderContainer","this","React","Component","connect","Navbar","nav","item","activeClassName","activeLink","Settings","News","Music","Paginator","totalItemsCount","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","length","useState","portionNumber","setPortionNumber","leftPortionNumber","rightPortionNumber","paginator","cn","selectedPage","pageNumber","User","user","photos","small","userPhoto","alt","disabled","some","Users","Preloader","preloader","getPageSize","getTotalUsersCount","getCurrentPage","getFetchingStatus","getFollowingInProgress","UsersContainer","requestUsers","bind","requestPage","totalCount","withAuthRedirect","maxLength40","maxLength","LoginReduxForm","reduxForm","handleSubmit","onSubmit","required","style","formSummaryError","stopSubmit","_error","formData","Post","maxLength10","MyPosts","memo","postsElements","postWrapper","AddPostReduxForm","values","addPost","addMessage","Field","getProfile","getProfileStatus","getProfilePosts","getProfileNewPostText","ProfileStatusWithHooks","editMode","setEditMode","useEffect","onDoubleClick","onChange","e","currentTarget","value","onBlur","updateStatus","autoFocus","ProfileInfo","descriptionBlock","large","aboutMe","lookingForAJob","lookingForAJobDescription","fullName","Profile","MyPostsContainer","ProfileContainer","match","params","authorizedUserId","history","getUserProfile","getStatus","withRouter","DialogsContainer","lazy","App","initializeApp","Nav","path","render","Suspense","fallback","then","ReactDOM","document","getElementById","mapStateToPropsForRedirect","RedirectComponent"],"mappings":"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","file":"static/js/main.3095437d.chunk.js","sourcesContent":["const SEND_MESSAGE = 'dialogs/SEND-MESSAGE';\r\n\r\nconst initialState =  {\r\n    messages: [\r\n      { id: '1', message: 'Hi' },\r\n      { id: '2', message: 'Hello' },\r\n      { id: '3', message: 'How are you?' },\r\n      { id: '4', message: 'Good' },\r\n      { id: '5', message: 'Thanks' },\r\n      { id: '6', message: 'Good for you' },\r\n      { id: '7', message: 'Yo' },\r\n    ],\r\n    dialogs: [\r\n      {\r\n        id: '1',\r\n        name: 'Nick',\r\n        userAvatar:\r\n          'https://w7.pngwing.com/pngs/340/946/png-transparent-avatar-user-computer-icons-software-developer-avatar-child-face-heroes.png',\r\n      },\r\n      {\r\n        id: '2',\r\n        name: 'Kirill',\r\n        userAvatar:\r\n          'https://banner2.cleanpng.com/20180625/req/kisspng-computer-icons-avatar-business-computer-software-user-avatar-5b3097fcae25c3.3909949015299112927133.jpg',\r\n      },\r\n      {\r\n        id: '3',\r\n        name: 'Vlad',\r\n        userAvatar:\r\n          'https://banner2.cleanpng.com/20180529/eot/kisspng-computer-icons-clip-art-profile-avatar-5b0de499bbdc67.8725542215276371457695.jpg',\r\n      },\r\n      {\r\n        id: '4',\r\n        name: 'Sveta',\r\n        userAvatar:\r\n          'https://img.favpng.com/8/13/6/avatar-computer-icons-png-favpng-zapkeKu3xzjy6HwSaFu87UfGQ.jpg',\r\n      },\r\n      {\r\n        id: '5',\r\n        name: 'Alina',\r\n        userAvatar:\r\n          'https://banner2.cleanpng.com/20180329/bhe/kisspng-computer-icons-avatar-user-profile-human-5abcd90dcf1548.0400521415223257738482.jpg',\r\n      },\r\n      {\r\n        id: '6',\r\n        name: 'Pasha',\r\n        userAvatar:\r\n          'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTeNWA656CRe97bqFdSiLSLH-gp6tfGFKMURg&usqp=CAU',\r\n      },\r\n      {\r\n        id: '7',\r\n        name: 'Sasha',\r\n        userAvatar:\r\n          'https://w7.pngwing.com/pngs/238/446/png-transparent-computer-icons-user-profile-avatar-old-man-face-heroes-head.png',\r\n      },\r\n    ],\r\n  }\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SEND_MESSAGE:\r\n            const newMessage = {\r\n                id: 8,\r\n                message: action.newMessageBody\r\n                };\r\n                return {...state,\r\n                    messages: [...state.messages, newMessage]\r\n                };\r\n        \r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const sendMessage = (newMessageBody) => ({type: SEND_MESSAGE, newMessageBody});\r\n\r\nexport default dialogsReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"Users_userPhoto__2co_F\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"avatarImage\":\"Post_avatarImage__nUfTF\",\"item\":\"Post_item__f_hhu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Nav_nav__1RD2F\",\"item\":\"Nav_item__1LTVU\",\"activeLink\":\"Nav_activeLink__2y_DN\"};","\r\nexport const getUserId = (state) => {\r\n    return  state.auth.userId;\r\n}\r\n\r\nexport const getIsAuth = (state) => {\r\n    return state.auth.isAuth;\r\n}\r\n\r\nexport const getLogin = (state) => {\r\n    return state.auth.login;\r\n}\r\n\r\n","import React from 'react'\r\nimport { Field } from 'redux-form';\r\nimport styles from './FormsControls.module.css'\r\n\r\nconst FormControl = ({input, meta: {touched, error}, children}) => {\r\n    const hasError = touched && error;\r\n    return(\r\n        <div className = {styles.formControl + ' ' + (hasError ? styles.error: '' )}>\r\n        <div>\r\n            {children}\r\n        </div>\r\n        {hasError && <span>{error}</span>}\r\n    </div>\r\n    )\r\n}\r\n\r\nexport const Textarea = (props) => {\r\n    const {input, meta, ...restProps} = props;\r\n    return <FormControl {...props}>  <textarea {... input} {...restProps}/></FormControl>\r\n}\r\n\r\nexport const Input = (props) => {\r\n    const {input, meta, ...restProps} = props;\r\n    return <FormControl {...props}>  <input {... input} {...restProps}/></FormControl>\r\n}\r\n\r\nexport const CreateField = (placeholder, name, component, validate, props = {}, text = '') => (\r\n    <div>\r\n        <Field placeholder = {placeholder} name = {name} component = {component} validate = {validate} {...props}/> {text}\r\n    </div>\r\n)\r\n\r\n","import * as axios from 'axios';\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL:'https://social-network.samuraijs.com/api/1.0/',\r\n    headers: {\r\n        'API-KEY': 'c07e0a16-2a1e-4352-bcf3-70767c0c66bc'\r\n    }\r\n});\r\n\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage = 1, pageSize = 10) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n        // .then(response => response.data)\r\n    },\r\n    follow(userId ) {\r\n        return instance.post(`follow/${userId}`, {})\r\n        // .then(response => response.data)\r\n    },\r\n    unFollow(userId = 2) {\r\n        return instance.delete(`follow/${userId}`)\r\n        // .then(response => response.data)\r\n    },\r\n};\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId) {\r\n        return instance.get(`profile/` + userId)\r\n        // .then(response => response.data);\r\n    },\r\n    getStatus(userId) {\r\n        return instance.get(`profile/status/` + userId)\r\n        // .then(response => response.data);\r\n    },\r\n    updateStatus(status) {\r\n        return instance.put(`profile/status`, { status: status })\r\n        // .then(response => response.data);\r\n    }\r\n}\r\n\r\nexport const authAPI = {\r\n    getMyData() {\r\n        return instance.get(`auth/me`)\r\n        // .then(response => response.data);\r\n    },\r\n    login(email, password, rememberMe = false) {\r\n        return instance.post(`auth/login`, {email, password, rememberMe});\r\n    },\r\n    logout() {\r\n        return instance.delete(`auth/login`);\r\n    }\r\n}","import { profileAPI } from '../API/api';\r\n\r\nconst ADD_POST = 'profile/ADD_POST';\r\nconst DELETE_POST = 'profile/DELETE_POST';\r\nconst SET_USER_PROFILE = 'profile/SET_USER_PROFILE';\r\nconst SET_STATUS = 'profile/SET_STATUS';\r\n\r\nconst initialState = {\r\n  posts: [\r\n    { id: '1', message: 'Hi, how are you?', likesCount: 10 },\r\n    { id: '2', message: \"It's my first post\", likesCount: 12 },\r\n  ],\r\n  profile: null,\r\n  status: ''\r\n}\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case ADD_POST:\r\n      const newPost = {\r\n        id: 5,\r\n        message: action.newPostText,\r\n        likesCount: 0,\r\n      };\r\n      return{...state,\r\n        posts: [...state.posts, newPost]\r\n      };\r\n\r\n    case SET_USER_PROFILE: \r\n    return {\r\n      ...state,\r\n      profile: action.profile\r\n    };\r\n    case SET_STATUS: {\r\n      return {\r\n          ...state,\r\n          status: action.status\r\n      }\r\n    }\r\n    case DELETE_POST: {\r\n      return {\r\n          ...state,\r\n          posts: state.posts.filter( p => p.id != action.postId)\r\n      }\r\n    }  \r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const addPost = (newPostText) => ({type: ADD_POST, newPostText});\r\nexport const deletePost = (postId) => ({type: DELETE_POST, postId});\r\nexport const setStatus = (status) => ({type: SET_STATUS, status})\r\nconst setUserProfile = (profile) => ({type: SET_USER_PROFILE, profile});\r\n\r\nexport const getUserProfile = (userId) => \r\n  async (dispatch) => {\r\n    let response = await profileAPI.getProfile(userId);\r\n    dispatch(setUserProfile(response.data));\r\n  }\r\n\r\n\r\nexport const getStatus = (userId) => \r\n  async (dispatch) => {\r\n    let response = await profileAPI.getStatus(userId);\r\n    dispatch(setStatus(response.data));\r\n}\r\n\r\nexport const updateStatus = (status) =>\r\n  async (dispatch) => {\r\n    let response = await profileAPI.updateStatus(status);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setStatus(status));\r\n    }\r\n}\r\n\r\nexport default profileReducer;","\r\nlet initialState = {};\r\n\r\nconst sideBarReducer = (state = initialState, action) => {\r\n\r\n    return state;\r\n}\r\n\r\nexport default sideBarReducer;","export const updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\r\n    return items.map((u)=> {\r\n        if (u[objPropName] === itemId) {\r\n            return {...u, ...newObjProps};\r\n        }\r\n        return u;\r\n        })\r\n} ","import { usersAPI } from '../API/api';\r\nimport { updateObjectInArray } from '../utils/object-helpers';\r\n\r\nconst FOLLOW = \"users/FOLLOW\";\r\nconst UNFOLLOW = \"users/UNFOLLOW\";\r\nconst SET_USERS = \"users/SET_USERS\";\r\nconst SET_CURRENT_PAGE = \"users/SET_CURRENT_PAGE\";\r\nconst SET_TOTAL_USERS_COUNT = \"users/SET_TOTAL_USERS_COUNT\";\r\nconst TOGGLE_IS_FETCHING = \"users/TOGGLE_IS_FETCHING\";\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = \"users/TOGGLE_IS_FOLLOWING_PROGRESS\";\r\n\r\nconst initialState = {\r\n  users: [],\r\n  pageSize: 10,\r\n  totalUsersCount: 0,\r\n  currentPage: 1,\r\n  isFetching : false,\r\n  followingInProgress: []\r\n}\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n  case FOLLOW: \r\n    return {\r\n      ...state,\r\n      users: updateObjectInArray(state.users, action.userId, 'id', {followed: true})\r\n    }\r\n  case UNFOLLOW: \r\n  return {\r\n    ...state,\r\n    users: updateObjectInArray(state.users, action.userId, 'id', {followed: false})\r\n  }\r\n  case SET_USERS:\r\n    return {...state, users: action.users}\r\n  case SET_CURRENT_PAGE:\r\n    return {...state, currentPage: action.currentPage}\r\n  case SET_TOTAL_USERS_COUNT:\r\n    return {...state, totalUsersCount: action.count}\r\n    case TOGGLE_IS_FETCHING:\r\n    return {...state, isFetching: action.isFetching}\r\n    case TOGGLE_IS_FOLLOWING_PROGRESS:\r\n      return {...state,\r\n         followingInProgress: action.isFetching\r\n         ? [...state.followingInProgress, action.userId] \r\n         : state.followingInProgress.filter(id => id != action.userId)\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const followSuccess = (userId) => ({type: FOLLOW, userId});\r\nexport const unFollowSuccess = (userId) => ({type: UNFOLLOW, userId});\r\nexport const setUsers = (users) => ({type: SET_USERS, users});\r\nexport const setCurrentPage = (currentPage) => ({type: SET_CURRENT_PAGE, currentPage});\r\nexport const setTotalUsersCount = (totalUsersCount) => ({type: SET_TOTAL_USERS_COUNT, count: totalUsersCount});\r\nexport const toggleIsFetching = (isFetching) => ({type: TOGGLE_IS_FETCHING, isFetching});\r\nexport const toggleFollowingProgress = (isFetching, userId) => ({type: TOGGLE_IS_FOLLOWING_PROGRESS, isFetching, userId});\r\n\r\nexport const requestUsers = (requestPage, pageSize) =>\r\n  async (dispatch) => {\r\n    dispatch(toggleIsFetching(true));\r\n    dispatch(setCurrentPage(requestPage));\r\n  \r\n    let response = await usersAPI.getUsers(requestPage, pageSize);\r\n    dispatch(toggleIsFetching(false));\r\n    dispatch(setUsers(response.data.items));\r\n    dispatch(setTotalUsersCount(response.data.totalCount));\r\n  } \r\n\r\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n  dispatch(toggleFollowingProgress(true, userId));\r\n    let response = await apiMethod(userId);\r\n    if (response.data.resultCode === 0){\r\n      dispatch(actionCreator(userId))\r\n    }\r\n    dispatch(toggleFollowingProgress(false, userId));\r\n}\r\n\r\nexport const unFollow = (userId) =>\r\n  async (dispatch) => {\r\n    followUnfollowFlow(dispatch, userId, usersAPI.unFollow.bind(usersAPI), unFollowSuccess);\r\n  }\r\n \r\n\r\nexport const follow = (userId) =>\r\n  async (dispatch) => {\r\n    followUnfollowFlow(dispatch, userId, usersAPI.follow.bind(usersAPI), followSuccess);\r\n  }\r\n\r\nexport default usersReducer;","import { stopSubmit } from 'redux-form';\r\nimport { authAPI } from '../API/api';\r\n\r\nconst SET_USER_DATA = 'auth/SET_USER_DATA';\r\nconst SET_USER_PHOTO = 'auth/SET_USER_PHOTO';\r\n\r\n\r\nconst initialState = {\r\n    id: null,\r\n    login: null,\r\n    email: null,\r\n    isAuth: false,\r\n    photo: 'some photo'\r\n}\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA: \r\n            return {\r\n                ...state,\r\n                ...action.payload\r\n                };\r\n        case SET_USER_PHOTO: \r\n            return {\r\n            ...state,\r\n                ...action.photo\r\n            }\r\n\r\n        default:\r\n        return state;\r\n    }\r\n};\r\n\r\nconst setAuthUserData = (userId, email, login, isAuth) => ({type: SET_USER_DATA, payload : {userId, email, login, isAuth}});\r\nexport const setAuthUserPhoto = (photo) => ({type: SET_USER_DATA, photo});\r\n\r\nexport const getAuthUserData = () => \r\nasync dispatch => {\r\n  let response = await authAPI.getMyData();\r\n    if (response.data.resultCode === 0) {\r\n      let {id, login, email} = response.data.data;\r\n      dispatch(setAuthUserData(id, email, login, true));\r\n    } \r\n};\r\n  \r\n\r\nexport const login = (email , password, rememberMe) => \r\nasync dispatch => {\r\n  let response = await authAPI.login(email , password, rememberMe);\r\n  \r\n  if (response.data.resultCode === 0) {\r\n    dispatch( getAuthUserData());\r\n  } else {\r\n    let message = response.data.messages.length > 0 ? response.data.messages[0]:'Some error';\r\n    dispatch(stopSubmit('login', {_error: message}));\r\n  }\r\n}\r\n\r\n\r\nexport const logout = () => \r\n  async dispatch => {\r\n    let response = await authAPI.logout();\r\n    if (response.data.resultCode === 0) {\r\n      dispatch(setAuthUserData(null, null, null, false));\r\n    } \r\n}\r\n\r\nexport default authReducer;","import { stopSubmit } from 'redux-form';\r\nimport { authAPI } from '../API/api';\r\nimport { getAuthUserData } from './auth-reducer';\r\n\r\nconst INITIALIZED_SUCCESS = 'INITIALIZED_SUCCESS';\r\n\r\n\r\nconst initialState = {\r\n    initialized: false\r\n}\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case INITIALIZED_SUCCESS: \r\n            return {\r\n                ...state,\r\n                initialized: true\r\n                };\r\n\r\n        default:\r\n        return state;\r\n    }\r\n};\r\n\r\nconst initializedSuccess = () => ({type: INITIALIZED_SUCCESS});\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n      let promise = dispatch(getAuthUserData());\r\n      promise.then(()=> {\r\n        dispatch(initializedSuccess());\r\n      });\r\n     \r\n    }\r\n  \r\n\r\n \r\n\r\nexport default appReducer;","import { applyMiddleware, combineReducers, compose, createStore } from 'redux';\r\nimport profileReducer from './profileReducer'\r\nimport dialogsReducer from './dialogsReducer'\r\nimport sideBarReducer from './sideBarReducer'\r\nimport usersReducer from './usersReducer';\r\nimport authReducer from './auth-reducer';\r\nimport appReducer from './appReducer';\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport {reducer as formReducer} from 'redux-form'\r\n\r\nlet reducers = combineReducers({\r\n    profilePage : profileReducer,\r\n    dialogsPage : dialogsReducer,\r\n    sideBar : sideBarReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    app: appReducer,\r\n    form: formReducer\r\n});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(\r\n    applyMiddleware(thunkMiddleware)\r\n  ));\r\n\r\nwindow.__store__ = store; \r\n\r\nexport default store;","import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport s from './Header.module.css';\r\n\r\nconst Header = (props) => {\r\n  return (\r\n    <header className={s.header}>\r\n      <img src=\"https://i.pinimg.com/originals/33/b8/69/33b869f90619e81763dbf1fccc896d8d.jpg\" />\r\n      <div className = {s.loginBlock}>\r\n        {\r\n          props.isAuth ? <div>{ props.login} - <button onClick = {props.logout}>Logout</button></div>\r\n                       : <NavLink to = {'/login'}>Login</NavLink>\r\n        }\r\n        \r\n      </div>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import React from 'react';\r\nimport Header from './Header';\r\nimport { connect } from 'react-redux';\r\nimport {getAuthUserData, setAuthUserPhoto} from '../../redux/auth-reducer';\r\nimport { compose } from 'redux';\r\nimport { logout } from '../../redux/auth-reducer';\r\nimport { getIsAuth, getLogin } from '../../redux/authSelectors';\r\n\r\nclass HeaderContainer extends React.Component{\r\n\r\n  render(){\r\n    return (\r\n      <Header {...this.props}/>\r\n    );\r\n  }\r\n};\r\n\r\nlet mapStateToProps = (state) =>({\r\n  isAuth: getIsAuth(state),\r\n  login: getLogin(state)\r\n})\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, {logout})\r\n)(HeaderContainer);\r\n","import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport s from './Nav.module.css';\r\n\r\nconst Navbar = () => {\r\n  return (\r\n    <nav className={s.nav}>\r\n        <div className={s.item}>\r\n          <NavLink to='/profile' activeClassName = {s.activeLink}>Profile</NavLink>\r\n        </div>\r\n        <div className={s.item}>\r\n          <NavLink to='/dialogs' activeClassName = {s.activeLink}>Messages</NavLink>\r\n        </div>\r\n        <div className={s.item}>\r\n          <NavLink to='/users' activeClassName = {s.activeLink}>Users</NavLink>\r\n        </div>\r\n        <div className={s.item}>\r\n          <NavLink to='/news' activeClassName = {s.activeLink}>News</NavLink>\r\n        </div>\r\n        <div className={s.item}>\r\n          <NavLink to='/music' activeClassName = {s.activeLink}>Music</NavLink>\r\n        </div>\r\n        <div className={s.item}>\r\n          <NavLink to='/settings' activeClassName = {s.activeLink}>Settings</NavLink>\r\n        </div>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default Navbar;\r\n","import React from 'react';\r\nimport s from './Settings.module.css';\r\n\r\nconst Settings = (props) => {\r\n    return(\r\n        <div>\r\n            Settings\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Settings;","import React from 'react';\r\nimport s from './News.module.css';\r\n\r\nconst News = (props) => {\r\n    return(\r\n        <div>\r\n            News\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default News;","import React from 'react';\r\nimport s from './Music.module.css';\r\n\r\nconst Music = (props) => {\r\n    return(\r\n        <div>\r\n            Music\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Music;","import React, { useState } from 'react';\r\nimport s from './Paginator.module.css';\r\nimport cn from \"classnames\";\r\n\r\nconst Paginator = ({totalItemsCount, pageSize, currentPage, onPageChanged, portionSize = 10}) => {\r\n    let pagesCount = Math.ceil(totalItemsCount / pageSize);\r\n\r\n    let pages = [];\r\n    for (let i = 1; i <= pagesCount; i++){\r\n        pages.push(i);\r\n    }\r\n\r\n    let portionCount = Math.ceil(pages.length / portionSize);\r\n    let [portionNumber, setPortionNumber] = useState(1);\r\n    let leftPortionNumber = (portionNumber - 1) * portionSize + 1;\r\n    let rightPortionNumber = portionNumber * portionSize;\r\n\r\n    return (\r\n        <div className = {s.paginator}>\r\n            {portionNumber > 1 &&\r\n            <button onClick = {() => {setPortionNumber(portionNumber - 1)}}> Prev </button>}\r\n            {\r\n                pages\r\n                .filter((p) => p >= leftPortionNumber && p <= rightPortionNumber)\r\n                .map((p) =>\r\n                     <span className = {cn({[s.selectedPage] : currentPage === p }, s.pageNumber) }\r\n                    onClick = {() => {onPageChanged(p)}}>{p}</span>\r\n                )\r\n            }\r\n            {portionCount > portionNumber &&\r\n            <button onClick ={ () => {setPortionNumber(portionNumber + 1)}}> Next </button>}\r\n        </div>\r\n    )\r\n}                   \r\n\r\nexport default Paginator;","export default __webpack_public_path__ + \"static/media/userDefaultPhoto.a63bc39c.png\";","import React from 'react';\r\nimport s from './Users.module.css';\r\nimport userPhoto from '../../assets/images/userDefaultPhoto.png';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst User = ({user, followingInProgress, unFollow, follow}) => {\r\n\r\n    return (\r\n        <div>\r\n            <span>\r\n                <div>\r\n                    <NavLink to = {`/profile/${user.id}`}>\r\n                        <img src={user.photos.small != null ? user.photos.small : userPhoto} className = {s.userPhoto} alt=\"\"/>\r\n                    </NavLink>\r\n                </div>\r\n                <div>\r\n                    {\r\n                        user.followed \r\n                        ? <button disabled = {followingInProgress.some(id => id === user.id)} onClick ={() => {unFollow(user.id);}}>\r\n                            Unfollow</button> \r\n                        : <button disabled = {followingInProgress.some(id => id === user.id)} onClick = { () => {follow(user.id);}}>\r\n                            Follow</button>\r\n                    }\r\n                </div>\r\n            </span>\r\n            <span>\r\n                <span>\r\n                    <div>{user.name}</div>\r\n                    <div>{user.status}</div>\r\n                </span>\r\n                <span>\r\n                    <div>{\"user.location.country\"}</div>\r\n                    <div>{\"user.location.city\"}</div>\r\n                </span>\r\n            </span>\r\n        </div>\r\n    )\r\n            \r\n    \r\n}                   \r\n\r\nexport default User;","import React from 'react';\r\nimport Paginator from '../Common/Paginator/Paginator';\r\nimport User from './User';\r\n\r\nconst Users = ({currentPage, onPageChanged, totalUsersCount, pageSize, users, ...props}) => {\r\n\r\n    return (\r\n        <div>\r\n            <Paginator currentPage = {currentPage} pageSize = {pageSize} totalItemsCount = {totalUsersCount} onPageChanged = {onPageChanged}/>\r\n            <div>\r\n            {\r\n                users.map((u) => <User user = {u}\r\n                                        followingInProgress = {props.followingInProgress}\r\n                                        unFollow = {props.unFollow}\r\n                                        follow = {props.follow}\r\n                                        key = {u.id}/> \r\n                 )\r\n            }\r\n            </div>\r\n        </div>\r\n    )\r\n}                   \r\n\r\nexport default Users;","export default __webpack_public_path__ + \"static/media/preloader.c6d1e57a.svg\";","import React from 'react';\r\nimport s from \"./Preloader.module.css\";\r\nimport preloader from '../../../assets/images/preloader.svg'\r\n\r\nconst Preloader = (props) => {\r\n    return (\r\n        <div>\r\n            <img src = {preloader}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Preloader;","import {createSelector} from 'reselect'\r\n\r\nexport const getUsers = (state) => {\r\n    return state.usersPage.users;\r\n}\r\n\r\n// export const getUsersSelector = (state) => {\r\n//     return getUsers(state).filter(u => true);\r\n// }\r\n//reselect call render when users is changed\r\n// export const getUsersSuperSelector = createSelector(getUsers, getFetchingStatus, (users, isFetching) => {\r\n//     return users.filter(u => true);\r\n// }) \r\n\r\nexport const getPageSize = (state) => {\r\n    return state.usersPage.pageSize;\r\n}\r\n\r\nexport const getTotalUsersCount = (state) => {\r\n    return state.usersPage.totalUsersCount;\r\n}\r\n\r\nexport const getCurrentPage = (state) => {\r\n    return state.usersPage.currentPage;\r\n}\r\n\r\nexport const getFetchingStatus = (state) => {\r\n    return state.usersPage.isFetching;\r\n}\r\n\r\nexport const getFollowingInProgress = (state) => {\r\n    return state.usersPage.followingInProgress;\r\n}","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {follow, setCurrentPage, unFollow,toggleFollowingProgress, requestUsers} from '../../redux/usersReducer';\r\nimport Users from './Users';\r\nimport Preloader from '../Common/Preloader/Preloader';\r\nimport { compose } from 'redux';\r\nimport { withAuthRedirect } from '../../hoc/withAuthRedirect';\r\nimport { getCurrentPage, getFetchingStatus, getFollowingInProgress, getPageSize, getTotalUsersCount, getUsers } from '../../redux/usersSelectors';\r\n\r\n\r\nclass UsersContainer extends React.Component {\r\n    componentDidMount() {\r\n        const {currentPage, pageSize} = this.props;\r\n        this.props.requestUsers(currentPage, pageSize);\r\n    }\r\n\r\n    onPageChanged = (pageNumber) => {\r\n        const { pageSize} = this.props;\r\n        this.props.requestUsers(pageNumber, pageSize);\r\n    }\r\n\r\n    render() {\r\n        return <>\r\n        {this.props.isFetching ? <Preloader/> : null}\r\n                <Users totalUsersCount={this.props.totalUsersCount}\r\n                              pageSize={this.props.pageSize}\r\n                              currentPage={this.props.currentPage}\r\n                              onPageChanged={this.onPageChanged}\r\n                              users={this.props.users}\r\n                              follow={this.props.follow}\r\n                              unFollow={this.props.unFollow}\r\n                              followingInProgress={this.props.followingInProgress}\r\n                />\r\n        </>\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n        return {\r\n            users: getUsers(state),\r\n            pageSize: getPageSize(state),\r\n            totalUsersCount: getTotalUsersCount(state),\r\n            currentPage: getCurrentPage(state),\r\n            isFetching: getFetchingStatus(state),\r\n            followingInProgress: getFollowingInProgress(state)\r\n        }\r\n    }\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, \r\n        {follow, unFollow, setCurrentPage, \r\n            toggleFollowingProgress, requestUsers}),\r\n    withAuthRedirect\r\n    )(UsersContainer);","import React from 'react';\r\nimport s from './Login.module.css';\r\nimport {reduxForm} from 'redux-form'\r\nimport { CreateField, Input } from '../Common/FormsControls/FormsControls';\r\nimport { maxLength, required } from '../../utils/validators/validators';\r\nimport { connect } from 'react-redux';\r\nimport {login} from '../../redux/auth-reducer';\r\nimport { Redirect } from 'react-router';\r\nimport style from '../Common/FormsControls/FormsControls.module.css'\r\nimport { getIsAuth } from '../../redux/authSelectors';\r\n\r\nconst maxLength40 = maxLength(40);\r\n\r\nconst Login = (props) => {\r\n    const onSubmit = (formData) => {\r\n        props.login(formData.email, formData.password, formData.rememberMe)\r\n    }\r\n\r\n    if(props.isAuth){\r\n        return <Redirect to = {'/profile'}/>;\r\n    }\r\n\r\n    return(\r\n        <div>\r\n           <h1>Login</h1>\r\n           <LoginReduxForm onSubmit={onSubmit}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst LoginForm = ({handleSubmit, error}) => {\r\n    return(\r\n    <form onSubmit = {handleSubmit}>\r\n        {CreateField('Email', 'email', Input, [required, maxLength40])}\r\n        {CreateField('Password', 'password', Input, [required, maxLength40], {type: 'password'})}\r\n        {CreateField(null, 'rememberMe', Input, [], {type: 'checkbox'}, 'remember me')}\r\n\r\n        {error && <div className = {style.formSummaryError}>\r\n            {error}\r\n        </div>}\r\n        <div>\r\n            <button>Login</button>\r\n        </div>\r\n    </form>\r\n    )\r\n}\r\n\r\nconst LoginReduxForm = reduxForm({form: 'login'})(LoginForm)\r\n\r\nconst mapStateToProps = (state) =>({\r\n    // isAuth: getIsAuth(state),\r\n    isAuth: state.auth.isAuth,\r\n})\r\n\r\nexport default connect(mapStateToProps, {login})(Login) ;","import React from \"react\";\r\nimport s from './Post.module.css';\r\n\r\nconst Post = (props) => {\r\n  return (\r\n    <div className={s.item}>\r\n      <img\r\n        src=\"https://cdn3.iconfinder.com/data/icons/avatars-15/64/_Ninja-2-512.png\"\r\n        alt=\"user avatar\"\r\n      />\r\n      {props.message}\r\n      <div>\r\n        <span>Like</span> {props.likesCount}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Post;\r\n","import React, {PureComponent} from \"react\";\r\nimport s from './MyPosts.module.css';\r\nimport Post from \"./Post/Post\"; \r\nimport {Field, reduxForm} from 'redux-form'\r\nimport {required, maxLength} from '../../../utils/validators/validators'\r\nimport { Textarea } from \"../../Common/FormsControls/FormsControls\";\r\n\r\nconst maxLength10 = maxLength(10);\r\n\r\nconst MyPosts = React.memo((props) =>  {\r\n\r\n  const postsElements = props.posts.map(p => (<Post message= {p.message} likesCount = {p.likesCount} key = {p.id}/>));\r\n\r\n  const onSubmit=(values)=>{\r\n    props.addPost(values.newPostText);\r\n}\r\n\r\n  return (\r\n      <div className = {s.postWrapper}>\r\n        <h3>My posts</h3>\r\n        <div>New post</div>\r\n          <AddPostReduxForm onSubmit={onSubmit}/>\r\n        <div className={s.posts}>\r\n          {postsElements}\r\n        </div>\r\n      </div>\r\n  );\r\n});\r\n\r\nconst AddPostForm = (props) => {\r\n  return (\r\n    <form onSubmit = {props.handleSubmit} className={s.addMessage}>\r\n    <Field component = {Textarea} name = {'newPostText'} placeholder = 'Enter your message' \r\n           validate = {[required, maxLength10]} ></Field>\r\n    <button >add message</button>\r\n  </form>\r\n  )\r\n}\r\n\r\nconst AddPostReduxForm = reduxForm({form: 'AddPostForm'})(AddPostForm)\r\n\r\nexport default MyPosts;\r\n","\r\nexport const getProfile = (state) => {\r\n    return  state.profilePage.profile;\r\n}\r\n\r\nexport const getProfileStatus = (state) => {\r\n    return state.profilePage.status;\r\n}\r\n\r\nexport const getProfilePosts = (state) => {\r\n    return state.profilePage.posts;\r\n}\r\n\r\nexport const getProfileNewPostText = (state) => {\r\n    return state.profilePage.newPostText;\r\n}","import {addPost} from \"../../../redux/profileReducer\";\r\nimport MyPosts from \"./MyPosts\";\r\nimport { connect } from \"react-redux\";\r\nimport { compose } from \"redux\";\r\nimport { getProfilePosts, getProfileNewPostText } from \"../../../redux/profileSelectors\";\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    posts : getProfilePosts(state),\r\n    newPostText : getProfileNewPostText(state)\r\n  };\r\n};\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, {addPost})\r\n)(MyPosts);\r\n","import React, { useState } from 'react';\r\nimport { useEffect } from 'react';\r\nimport s from './ProfileInfo.module.css';\r\n\r\nconst ProfileStatusWithHooks = (props) => {\r\n\r\n    let [editMode, setEditMode] = useState(false);\r\n    let [status, setStatus] = useState(props.status);\r\n\r\n    useEffect( () => {\r\n        setStatus(props.status)\r\n    }, [props.status])\r\n\r\n    const activateEditMode = () => {\r\n        setEditMode(true);\r\n    }\r\n\r\n    const deactivateEditMode = () => {\r\n        setEditMode(false);\r\n        props.updateStatus(status);\r\n    }\r\n    \r\n    const onStatusChange = (e) => {\r\n        setStatus( e.currentTarget.value);\r\n    }\r\n\r\nreturn (\r\n    <div>\r\n        {!editMode &&\r\n            <div>\r\n                <span onDoubleClick={ activateEditMode }>{props.status || \"-------\"}</span>\r\n            </div>\r\n        }\r\n        {editMode &&\r\n            <div>\r\n                <input onChange={onStatusChange} onBlur={ deactivateEditMode } autoFocus={true} \r\n                value={status}/>\r\n            </div>\r\n        }\r\n    </div>\r\n);\r\n    \r\n};\r\n\r\nexport default ProfileStatusWithHooks;\r\n","import React from 'react';\r\nimport Preloader from '../../Common/Preloader/Preloader';\r\nimport s from './ProfileInfo.module.css';\r\nimport ProfileStatusWithHooks from './ProfileStatusWithHooks'\r\n\r\nconst ProfileInfo = ({profile, status, updateStatus}) => {\r\n\r\n  if(!profile){\r\n    return <Preloader/>\r\n  } \r\n\r\n  return (\r\n    <div>\r\n      <div className = {s.descriptionBlock}>\r\n        <img src = {profile.photos.large} />\r\n        <div> About me : {profile.aboutMe}</div>\r\n        <div> Looking for a job : {profile.lookingForAJob ? 'true' : 'false'}</div>\r\n        <div> Looking for a job description : {profile.lookingForAJobDescription}</div>\r\n        <div> Full name : {profile.fullName}</div>\r\n        <div> Contacts :</div>\r\n       \r\n        <ProfileStatusWithHooks status={status} updateStatus={updateStatus}/>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProfileInfo;\r\n","import React from \"react\";\r\nimport MyPostsContainer from \"./MyPosts/MyPostsContainer\";\r\nimport ProfileInfo from \"./ProfileInfo/ProfileInfo\";\r\n\r\nconst Profile = (props) => {\r\n  return (\r\n    <div>\r\n     <ProfileInfo profile={props.profile} status={props.status} updateStatus={props.updateStatus}/>\r\n      <MyPostsContainer/>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n","import React from 'react';\r\nimport Profile from './Profile';\r\nimport { connect } from 'react-redux';\r\nimport {getStatus, getUserProfile, updateStatus} from '../../redux/profileReducer';\r\nimport { withRouter } from 'react-router';\r\nimport { withAuthRedirect } from '../../hoc/withAuthRedirect';\r\nimport { compose } from 'redux';\r\nimport { getProfile, getProfileStatus } from '../../redux/profileSelectors';\r\nimport { getUserId, getIsAuth } from '../../redux/authSelectors';\r\n\r\n\r\nclass ProfileContainer extends React.Component\r\n{\r\n    componentDidMount(){\r\n        let userId = this.props.match.params.userId;\r\n        if (!userId){\r\n            userId = this.props.authorizedUserId;\r\n            if(!userId){\r\n              this.props.history.push('/login');\r\n            }\r\n        }\r\n        this.props.getUserProfile(userId);\r\n        this.props.getStatus(userId);\r\n    }               \r\n\r\n     render() {\r\n        return (\r\n            <div>\r\n              <Profile {...this.props} profile={this.props.profile} status={this.props.status} updateStatus={this.props.updateStatus}/>\r\n            </div>\r\n          );\r\n     }\r\n};\r\n\r\nlet mapStateToProps = (state) => ({\r\n    profile: getProfile(state),\r\n    status: getProfileStatus(state),\r\n    authorizedUserId: getUserId(state),\r\n    isAuth: getIsAuth(state)\r\n})\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, {getUserProfile, getStatus, updateStatus}),\r\n  withRouter,\r\n  // withAuthRedirect\r\n)(ProfileContainer)\r\n\r\n","import React from \"react\";\n// import logo from './logo.svg';\nimport \"./App.css\";\nimport \"./components/Header/Header\";\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\nimport Navbar from \"./components/Nav/Nav\";\nimport { Route, withRouter } from \"react-router\";\nimport Settings from \"./components/Settings/Settings\";\nimport News from \"./components/News/News\";\nimport Music from \"./components/Music/Music\";\nimport UsersContainer from \"./components/Users/UsersContainer\";\nimport Login from \"./components/Login/Login\";\nimport ProfileContainer from \"./components/Profile/ProfileContainer\";\nimport {initializeApp} from './redux/appReducer';\nimport { connect } from \"react-redux\";\nimport { compose } from \"redux\";\nimport Preloader from \"./components/Common/Preloader/Preloader\";\nimport { withSuspense } from \"./hoc/withSuspense\";\n\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'));\n\nclass App extends React.Component {\n\n  componentDidMount(){\n    this.props.initializeApp();\n  }\n\n  render () {\n    if (!this.props.initialized)\n    return <Preloader/>\n\n    return ( \n      <div className=\"app-wrapper\">\n        <HeaderContainer />\n        <Navbar />\n        <div className=\"app-wrapper-content\"> \n          <Route path ='/dialogs' render={withSuspense(DialogsContainer)}/>\n          <Route path ='/profile/:userId?' render={()=><ProfileContainer/>} />\n          <Route path ='/users' render={()=><UsersContainer/>} />\n          <Route path ='/news' render={()=><News/>} />\n          <Route path ='/music' render={()=><Music/>} />\n          <Route path ='/settings' render={()=><Settings/>} />\n          <Route path ='/login' render={()=><Login/>} />\n        </div>\n      </div>\n    );\n  }\n};\n\nconst mapStateToProps = (state) => ({\n  initialized: state.app.initialized\n})\n\nexport default compose(withRouter,\n  connect(mapStateToProps, {initializeApp}))\n  (App) ;\n","import React from \"react\";\r\nimport Preloader from \"../components/Common/Preloader/Preloader\";\r\n\r\nexport const withSuspense = (Component) => {\r\n    return (props) => {\r\n        return  <React.Suspense fallback={<Preloader/>}> \r\n            <Component {...props}/>\r\n        </React.Suspense>\r\n    };\r\n}\r\n","// import store from './redux/store'\nimport store from './redux/reduxStore'\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { BrowserRouter } from \"react-router-dom\";\nimport { Provider } from 'react-redux';\n\nReactDOM.render(\n  <BrowserRouter>\n    <Provider store = {store}>\n      <App/>\n    </Provider>\n  </BrowserRouter>,document.getElementById('root')\n);\n\n\n\n","export const required = value => {\r\n    if(value) return undefined\r\n    else return 'Field is required'\r\n}\r\n\r\nexport const maxLength = (maxLength) => (value) => {\r\n    if(value && value.length > maxLength) return `Max length is ${maxLength} symbols`\r\n    else return undefined;\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__1AUef\",\"error\":\"FormsControls_error__3q4-2\",\"formSummaryError\":\"FormsControls_formSummaryError__B9O0p\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__o-5VI\",\"pageNumber\":\"Paginator_pageNumber__3VIPz\",\"selectedPage\":\"Paginator_selectedPage__yZn1a\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postWrapper\":\"MyPosts_postWrapper__1ndH5\",\"posts\":\"MyPosts_posts__1GLdG\"};","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Redirect } from \"react-router\";\r\nimport { getIsAuth } from \"../redux/authSelectors\";\r\n\r\nlet mapStateToPropsForRedirect = (state) => ({\r\n    isAuth: getIsAuth(state)\r\n  })\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n        render(){\r\n            if (!this.props.isAuth) return <Redirect to = {'/login'}/>;\r\n            return <Component {...this.props}/>\r\n        }\r\n    }\r\n      \r\n    let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent);\r\n\r\n    return ConnectedAuthRedirectComponent;\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"avatarImage\":\"ProfileInfo_avatarImage___yo9G\",\"descriptionBlock\":\"ProfileInfo_descriptionBlock__2vLzO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__3ohxo\",\"loginBlock\":\"Header_loginBlock__3Xlnl\"};"],"sourceRoot":""}